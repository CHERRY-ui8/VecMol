sigma: 1
# 也许不能太多，要控制，不是所有元素都需要收敛，收敛太慢也是收敛能力差的一种表现
n_iter: 2000  # 每次迭代都会调用decoder，很费时间，1000-2000
# 早停机制配置（可选）
enable_early_stopping: False  # 是否启用早停机制，默认False（关闭早停，运行完整迭代）
convergence_threshold: 1e-6  # 收敛阈值（梯度模长变化），仅在启用早停时有效
min_iterations: 50  # 最少迭代次数（早停前必须达到的最小迭代数），仅在启用早停时有效
sigma_ratios:
  C: 0.9    # 碳原子，较小的 sigma 使梯度场更集中
  H: 1.3    # 氢原子，较大的 sigma 使梯度场更分散
  O: 1.1    # 氧原子，中等 sigma
  'N': 1.0    # 氮原子，略小于氧原子
  F: 1.2    # 氟原子，略大于氧原子
gradient_field_method: tanh # softmax, sfnorm, logsumexp, inverse_square, tanh, gaussian_mag, distance
temperature: 0.01 # 温度越高，分布越尖锐，越容易收敛（很可能极端地收敛到单个原子）；温度越低，分布越平缓，越不易收敛
logsumexp_eps: 1e-8  # logsumexp方法的数值稳定性参数
inverse_square_strength: 1.0 # 距离平方反比方法的强度参数
gradient_clip_threshold: 0.3 # 梯度模长截断阈值
# 梯度采样相关参数
gradient_sampling_candidate_multiplier: 3  # 从10减少到3，减少候选点数量，提高采样效率
gradient_sampling_temperature: 0.1  # 梯度采样温度参数

# 不同方法的参数配置
method_configs:
  gaussian_mag:
    n_query_points: 1000
    step_size: 0.05
    sig_sf: 0.1
    sig_mag: 0.45
    eps: 0.1
    min_samples: 5

  tanh:
    n_query_points: 1000 
    step_size: 0.1  #  0.02
    sig_sf: 0.1
    sig_mag: 2
    # DBSCAN聚类参数
    eps: 0.15
    min_samples: 30  # 保持原有最小样本数  
  

default_config: # softmax, logsumexp, inverse_square
  n_query_points: 600
  step_size: 0.02
  sig_sf: 0.1
  sig_mag: 0.45
  eps: 0.15
  min_samples: 20

