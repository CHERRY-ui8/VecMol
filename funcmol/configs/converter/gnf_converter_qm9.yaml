sigma: 1
n_iter: 3000  # 每次迭代都会调用decoder，很费时间，1000-2000
# DBSCAN聚类参数
eps: 0.15 # 形成簇的邻域半径，0.06
min_samples: 30 # 形成簇的最小样本数，6
sigma_ratios:
  C: 0.9    # 碳原子，较小的 sigma 使梯度场更集中
  H: 1.3    # 氢原子，较大的 sigma 使梯度场更分散
  O: 1.1    # 氧原子，中等 sigma
  'N': 1.0    # 氮原子，略小于氧原子
  F: 1.2    # 氟原子，略大于氧原子
gradient_field_method: tanh # softmax, sfnorm, logsumexp, inverse_square, tanh, gaussian_mag, distance
temperature: 0.01 # 温度越高，分布越尖锐，越容易收敛（很可能极端地收敛到单个原子）；温度越低，分布越平缓，越不易收敛
logsumexp_eps: 1e-8  # logsumexp方法的数值稳定性参数
inverse_square_strength: 1.0 # 距离平方反比方法的强度参数
gradient_clip_threshold: 0.3 # 梯度模长截断阈值
# 梯度采样相关参数
gradient_sampling_candidate_multiplier: 3  # 从10减少到3，减少候选点数量，提高采样效率
gradient_sampling_temperature: 0.1  # 梯度采样温度参数

# 不同方法的参数配置
method_configs:
  gaussian_mag:
    n_query_points: 1000
    step_size: 0.05  # 更大的步长，因为gaussian_mag产生的梯度场较弱
    sig_sf: 0.1
    sig_mag: 0.45
    eps: 0.1  # 稍大的聚类半径，适应较弱的梯度场
    min_samples: 5  # 更小的最小样本数，因为梯度场较弱，聚类点较少

  tanh:
    n_query_points: 1000 
    step_size: 0.02  # 保持原有步长，tanh方法梯度场较强
    sig_sf: 0.1
    sig_mag: 2
    eps: 0.05
    min_samples: 10  # 保持原有最小样本数  
  

default_config: # softmax, logsumexp, inverse_square
  n_query_points: 600  # 从1000减少到600，减少40%的查询点，提高计算效率
  step_size: 0.02  # 增大步长，加快收敛
  sig_sf: 0.1
  sig_mag: 0.45
