dset:
  dset_name: qm9
  data_dir: dataset/data
  data_aug: true
  grid_dim: 48
  resolution: 0.25
  grid_size: 9
  anchor_spacing: 1.5
  elements:
  - C
  - H
  - O
  - 'N'
  - F
  n_channels: 5
  n_points: 500
  subsampling_ratio: 2
  targeted_sampling_ratio: 0.5
  num_workers: 4
  batch_size: 32
  lr_enc: 0.0002
  lr_dec: 0.0002
converter:
  sigma: 1
  n_iter: 400
  enable_early_stopping: false
  convergence_threshold: 1.0e-06
  min_iterations: 50
  gradient_batch_size: 2000
  sigma_ratios:
    C: 0.9
    H: 1.3
    O: 1.1
    'N': 1.0
    F: 1.2
  gradient_field_method: tanh
  temperature: 0.01
  logsumexp_eps: 1.0e-08
  inverse_square_strength: 1.0
  gradient_clip_threshold: 0.3
  gradient_sampling_candidate_multiplier: 3
  field_variance_k_neighbors: 10
  field_variance_weight: 0.01
  sampling_range_min: -4.0
  sampling_range_max: 4.0
  n_query_points_per_type:
    C: 1500
    H: 1500
    O: 150
    'N': 100
    F: 100
  method_configs:
    gaussian_mag:
      n_query_points: 1000
      step_size: 0.05
      sig_sf: 0.1
      sig_mag: 0.45
    tanh:
      n_query_points: 2000
      step_size: 0.05
      sig_sf: 0.1
      sig_mag: 2
  default_config:
    n_query_points: 600
    step_size: 0.02
    sig_sf: 0.1
    sig_mag: 0.45
    eps: 0.05
    min_samples: 5
  autoregressive_clustering:
    enable: false
    max_clustering_iterations: 10
    initial_min_samples: 80
    min_samples_decay_factor: 0.2
    min_min_samples: 5
    bond_length_tolerance: 2
    bond_length_lower_tolerance: 0.5
    n_initial_atoms_no_bond_check: 2
    debug_bond_validation: true
    enable_clustering_history: true
    save_gradient_ascent_sdf: true
    gradient_ascent_sdf_interval: 100
    enable_timing: true
encoder:
  _target_: funcmol.models.encoder.CrossGraphEncoder
  n_atom_types: 5
  code_dim: 256
  hidden_dim: 256
  num_layers: 6
  k_neighbors: 24
  atom_k_neighbors: 8
  cutoff: 6.0
decoder:
  name: decoder_global
  code_dim: 256
  hidden_dim: 256
  coord_dim: 3
  n_layers: 5
  radius: 3
  cutoff: 5.0
  k_neighbors: 32
debug: false
debug_one_mol: false
debug_subset: false
wandb: false
seed: 1234
exp_dir: ../exps/neural_field
exp_name: nf_${dset.dset_name}/${now:%Y%m%d}
dirname: ${exp_dir}/${exp_name}
reload_model_path: null
auto_resume: false
ckpt_every_n_epochs: 1
n_epochs: 500
eval_every: 1
lr_decay: true
lr_scheduler_type: plateau
warmup:
  enabled: false
  warmup_steps: 10000
lr_factor: 0.5
lr_patience: 5
lr_min: 1.0e-06
lr_mode: min
lr_milestones:
- 30
- 60
- 90
lr_gamma: 0.5
loss_weighting:
  enabled: true
  atom_distance_scale: 0.5
  grid_loss_weight: 1.0
  neighbor_loss_weight: 1.0
