dset:
  dset_name: drugs
  data_dir: dataset/data
  data_aug: true
  grid_dim: 64
  resolution: 0.25
  grid_size: 7
  anchor_spacing: 3
  elements:
  - C
  - H
  - O
  - 'N'
  - F
  - S
  - Cl
  - Br
  n_channels: 8
  n_points: 500
  subsampling_ratio: 2
  targeted_sampling_ratio: 0.5
  num_workers: 2
  batch_size: 24
  lr_enc: 0.00015
  lr_dec: 0.00015
encoder:
  _target_: funcmol.models.encoder.CrossGraphEncoder
  code_dim: 384
  hidden_dim: 384
  num_layers: 8
  k_neighbors: 24
  atom_k_neighbors: 8
  cutoff: 8.0
decoder:
  name: decoder_global
  code_dim: 384
  hidden_dim: 384
  coord_dim: 3
  n_layers: 6
  radius: 3
  cutoff: 8.0
  k_neighbors: 32
denoiser:
  use_gnn: true
  hidden_dim: 512
  num_layers: 10
  time_emb_dim: 256
  dropout: 0.15
  cutoff: 8.0
  radius: 5.4
  use_radius_graph: true
converter:
  sigma: 1
  n_iter: 1000
  enable_early_stopping: false
  convergence_threshold: 1.0e-06
  min_iterations: 50
  gradient_batch_size: 2000
  sigma_ratios:
    C: 0.9
    H: 1.3
    O: 1.1
    'N': 1.0
    F: 1.2
    S: 1.1
    Cl: 1.3
    Br: 1.4
  gradient_field_method: tanh
  temperature: 0.01
  logsumexp_eps: 1.0e-08
  inverse_square_strength: 1.0
  gradient_clip_threshold: 0.3
  gradient_sampling_candidate_multiplier: 3
  field_variance_k_neighbors: 10
  field_variance_weight: 0.01
  sampling_range_min: -7.0
  sampling_range_max: 7.0
  n_query_points_per_type:
    C: 1000
    H: 1000
    O: 150
    'N': 250
    F: 20
    S: 20
    Cl: 20
    Br: 20
  method_configs:
    gaussian_mag:
      n_query_points: 3000
      step_size: 0.003
      sig_sf: 0.1
      sig_mag: 0.45
    tanh:
      n_query_points: 2000
      step_size: 0.3
      sig_sf: 0.1
      sig_mag: 2
  default_config:
    n_query_points: 1000
    step_size: 0.02
    sig_sf: 0.1
    sig_mag: 0.45
    eps: 0.05
    min_samples: 3
  autoregressive_clustering:
    enable: false
    initial_min_samples: null
    min_samples_decay_factor: 0.7
    min_min_samples: 2
    max_clustering_iterations: 10
    bond_length_tolerance: 0.4
    bond_length_lower_tolerance: 0.2
    enable_bond_validation: false
    debug_bond_validation: true
    enable_clustering_history: false
    enable_timing: false
debug: false
wandb: true
seed: 1234
diffusion_method: new_x0
ddpm:
  beta_start: 0.0001
  beta_end: 0.02
  num_timesteps: 1000
  schedule: cosine
  s: 0.008
  s1: 0.008
  sT: 0.008
  w: 1.0
  use_time_weight: false
position_weight:
  enabled: false
  radius: 3.0
  alpha: 0.5
nf_pretrained_path: /datapool/data2/home/pxg/data/hyc/funcmol-main-neuralfield/exps/neural_field/nf_drugs/20260113/lightning_logs/version_0/checkpoints/last.ckpt
exp_dir: ../exps/funcmol
exp_name: fm_${dset.dset_name}/${now:%Y%m%d}
dirname: ${exp_dir}/${exp_name}
reload_model_path: /datapool/data2/home/pxg/data/hyc/funcmol-main-neuralfield/exps/funcmol/fm_drugs/20260116/lightning_logs/version_2/checkpoints/model-epoch=09.ckpt
smooth_sigma: 0.5
normalize_codes: 1
on_the_fly: false
use_augmented_codes: false
num_augmentations: 1
use_sharded_lmdb: true
codes_dir_no_aug: /datapool/data2/home/pxg/data/hyc/funcmol-main-neuralfield/exps/neural_field/nf_drugs/20260113/lightning_logs/version_1/checkpoints/code_no_aug/
num_epochs: 5000
ckpt_every_n_epochs: 1
lr: 0.001
use_lr_schedule: 0
num_warmup_iter: 4000
wd: 1.0e-06
ema_decay: 0.999
max_grad_norm: 0.5
