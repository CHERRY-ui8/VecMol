dset_name: qm9
data_dir: dataset/data
data_aug: True
grid_dim: 48 # 48*0.25=12, ~max molecule diameter in QM9 (scale_factor = 1/(resolution*grid_dim/2))
resolution: .25

# grid_size: 9  # unified grid_size for encoder/decoder
# anchor_spacing: 1.5  # anchor spacing (Angstrom)
grid_size: 5
anchor_spacing: 3

elements: ["C", "H", "O", "N", "F"]
n_channels: 5
n_points: 500 # used in FieldDataset._get_xs; 500 may be low
subsampling_ratio: 2

# Query points sampling configuration
# targeted_sampling_ratio: n_grid / n_neighbor
targeted_sampling_ratio: 0.5  # default grid:neighbor = 2:1

# atom_distance_threshold: sample query points within this distance (Angstrom)
# used when sample_near_atoms_only is enabled
atom_distance_threshold: 1.0

num_workers: 8
batch_size: 16
lr_enc: 2e-4
lr_dec: 2e-4 # 2e-4 in non-finetune mode

# Code / LMDB (train_diffusion reads from dset)
smooth_sigma: 0.5
normalize_codes: 1
on_the_fly: False  # use True to compute codes on the fly from neural field
use_augmented_codes: False
num_augmentations: 1  # null or number for codes_aug{N}.lmdb

# position_weight (train_diffusion etc., can be overridden by top-level config)
position_weight:
  enabled: False
  radius: 3.0
  alpha: 0.5
# use_sharded_lmdb: unset = auto-detect
codes_dir_no_aug: "exps/neural_field/nf_qm9/20260124/lightning_logs/version_0/checkpoints/code_no_aug/"
codes_dir_with_aug: "exps/neural_field/nf_qm9/20260124/lightning_logs/version_0/checkpoints/codes_no_shuffle/"
# code_stats_path: (optional)
