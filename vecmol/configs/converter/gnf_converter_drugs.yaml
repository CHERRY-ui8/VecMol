sigma: 1
n_iter: 500  # Slightly more iterations for larger drugs molecules
# Early stopping (optional)
enable_early_stopping: False  # Enable early stopping; False = full iterations
convergence_threshold: 1e-6  # Convergence threshold (gradient magnitude change); only when early stopping enabled
min_iterations: 50  # Minimum iterations before early stopping

# Gradient batch size (optional, for performance)
gradient_batch_size: 2000  # Medium batch size for balance of speed and memory

sigma_ratios:
  C: 0.9    # Carbon: smaller sigma -> more concentrated gradient field
  H: 1.3    # Hydrogen: larger sigma -> more spread
  O: 1.1    # Oxygen: medium sigma
  'N': 1.0    # Nitrogen: slightly smaller than O
  F: 1.2    # Fluorine: slightly larger than O
  S: 1.1    # Sulfur: similar to O
  Cl: 1.3   # Chlorine: larger sigma
  Br: 1.4   # Bromine: largest sigma

gradient_field_method: gaussian_hole # softmax, sfnorm, logsumexp, inverse_square, tanh, gaussian_mag, distance, gaussian_hole
temperature: 0.01 # Higher = sharper distribution, easier convergence; lower = flatter, harder to converge
logsumexp_eps: 1e-8  # logsumexp numerical stability
inverse_square_strength: 1.0 # Inverse-square method strength
gradient_clip_threshold: 0.3 # Gradient magnitude clip threshold
gaussian_hole_clip: 0.8 # gaussian_hole distance clip upper bound
# Gradient sampling
gradient_sampling_candidate_multiplier: 3  # Candidate multiplier for gradient sampling
# Field variance sampling
field_variance_k_neighbors: 10     # k-neighbors for variance (larger k = smoother variance)
field_variance_weight: 0.01         # Softmax temperature: smaller = sharper (favor high variance); larger = flatter

# Sampling range (Angstrom)
sampling_range_min: -7.0  # Min sampling range (wider for larger molecules)
sampling_range_max: 7.0   # Max sampling range

n_query_points_per_type:
  C: 1000  # Carbon query_points
  H: 1000  # Hydrogen query_points
  O: 100   # Oxygen query_points
  N: 150   # Nitrogen query_points
  F: 20    # Fluorine query_points
  S: 20    # Sulfur query_points
  Cl: 20   # Chlorine query_points
  Br: 20   # Bromine query_points

method_configs:
  gaussian_mag:
    n_query_points: 3000  # More query points for larger drugs molecules
    step_size: 0.003      # Smaller step for finer optimization
    sig_sf: 0.1
    sig_mag: 0.45

  tanh:
    n_query_points: 2000  # More query points
    step_size: 0.1
    sig_sf: 0.1
    sig_mag: 2

default_config: # softmax, logsumexp, inverse_square
  n_query_points: 1000  # More query points
  step_size: 0.1     # Slightly smaller step
  sig_sf: 0.1
  sig_mag: 0.45
  eps: 0.1      # DBSCAN neighborhood radius
  min_samples: 3  # DBSCAN min samples

# Autoregressive clustering (optional)
autoregressive_clustering:
  enable: False  # Enable autoregressive clustering; default False
  initial_min_samples: null  # Initial min_samples; null = use default min_samples
  min_samples_decay_factor: 0.7  # min_samples decay per round
  min_min_samples: 2  # min_samples lower bound
  max_clustering_iterations: 10  # Max clustering iterations
  bond_length_tolerance: 0.4  # Bond length upper tolerance (Angstrom)
  bond_length_lower_tolerance: 0.2  # Bond length lower tolerance (Angstrom)
  enable_bond_validation: False  # Enable bond length check; False = disable entirely
  debug_bond_validation: True  # Print bond validation debug info
  enable_clustering_history: False  # Record clustering history; default False
  enable_timing: False  # Enable timing stats; default False
